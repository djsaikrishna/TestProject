import{cD as k,b as $,e as t,ad as u,K as y,aI as h,cV as m,r as f,aK as w,S as j,c1 as x,au as A,ak as S,at as C,b1 as i,c5 as v,co as p,ac as I,l as O,a as P,k as b,w as z,cW as D,cX as M,cY as E,D as d,E as L,a0 as B,a3 as H}from"./index.44cc2916.js";import{b as K}from"./Folder.869f3811.js";import{u as T}from"./index.db28835d.js";import{q as W}from"./index.1fd0ea24.js";import{g as _,O as F}from"./icon.a6605f97.js";import"./Layout.3d86709f.js";import"./index.0d8a97e9.js";import"./FolderTree.191789d6.js";import"./video_box.b7d1447d.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./Paginator.57c5ed74.js";import"./index.2f3d6e03.js";const n=[{name:"name",textAlign:"left",w:{"@initial":"76%","@md":"50%"}},{name:"size",textAlign:"right",w:{"@initial":"24%","@md":"17%"}},{name:"modified",textAlign:"right",w:{"@initial":0,"@md":"33%"}}],R=e=>{const{isHide:o}=k();if(o(e.obj))return null;const{setPathAs:g}=T(),{show:l}=K({id:1}),{pushHref:c,to:s}=$(),a=()=>O.filename_scrollable==="true";return t(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){return t(u,{class:"list-item",w:"$full",p:"$2",rounded:"$lg",transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:y()}},as:W,get href(){return e.obj.name},"on:click":r=>{if(!!h()){if(r.preventDefault(),r.altKey){s(c(e.obj.name));return}m(e.index,!e.obj.selected)}},onMouseEnter:()=>{g(e.obj.name,e.obj.is_dir,!0)},onContextMenu:r=>{f(()=>{w(!1),m(e.index,!0,!0)}),l(r,{props:e.obj})},get children(){return[t(u,{class:"name-box",spacing:"$1",get w(){return n[0].w},get children(){return[t(j,{get when(){return h()},get children(){return t(x,{"on:click":r=>{r.stopPropagation()},get checked(){return e.obj.selected},onChange:r=>{m(e.index,r.target.checked)}})}}),t(A,{class:"icon",boxSize:"$6",get color(){return S()},get as(){return _(e.obj)},mr:"$1","on:click":r=>{e.obj.type===F.IMAGE&&(r.stopPropagation(),r.preventDefault(),C.emit("gallery",e.obj.name))}}),t(i,{class:"name",get css(){return{whiteSpace:"nowrap","overflow-x":a()?"auto":"hidden",textOverflow:a()?"unset":"ellipsis","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}}},get title(){return e.obj.name},get children(){return e.obj.name}})]}}),t(i,{class:"size",get w(){return n[1].w},get textAlign(){return n[1].textAlign},get children(){return v(e.obj.size)}}),t(i,{class:"modified",display:{"@initial":"none","@md":"inline"},get w(){return n[2].w},get textAlign(){return n[2].textAlign},get children(){return p(e.obj.modified)}})]}})}})},ne=()=>{const e=P(),[o,g]=b(),[l,c]=b(!1);z(()=>{o()&&D(o(),l())});const s=a=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:a.textAlign,cursor:"pointer",onClick:()=>{a.name===o()?c(!l()):f(()=>{g(a.name),c(!1)})}});return t(H,{class:"list",w:"$full",spacing:"$1",get children(){return[t(u,{class:"title",w:"$full",p:"$2",get children(){return[t(u,{get w(){return n[0].w},spacing:"$1",get children(){return[t(j,{get when(){return h()},get children(){return t(x,{get checked(){return M()},get indeterminate(){return E()},onChange:a=>{w(a.target.checked)}})}}),t(i,d(()=>s(n[0]),{get children(){return e(`home.obj.${n[0].name}`)}}))]}}),t(i,d({get w(){return n[1].w}},()=>s(n[1]),{get children(){return e(`home.obj.${n[1].name}`)}})),t(i,d({get w(){return n[2].w}},()=>s(n[2]),{display:{"@initial":"none","@md":"inline"},get children(){return e(`home.obj.${n[2].name}`)}}))]}}),t(L,{get each(){return B.objs},children:(a,r)=>t(R,{obj:a,get index(){return r()}})})]}})};export{ne as default};
